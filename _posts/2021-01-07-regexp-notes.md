---
layout: default
title: 正则表达式中?=和?:和?!
date: 2021-01-07 +0800
categories:
tags: [reg]
---
## 正则表达式中?=和?:和?!

### 要理解?=和?!，首先需要理解前瞻，后顾，负前瞻，负后顾四个概念：

```js
// 前瞻：
exp1(?=exp2) 查找exp2前面的exp1 (exp1后边是exp2就匹配)
// 后顾：
(?<=exp2)exp1 查找exp2后面的exp1 (exp1前边是exp2就匹配)
// 负前瞻：
exp1(?!exp2) 查找后面不是exp2的exp1 (exp1后边不是exp2就匹配)
// 负后顾：
(?<!exp2)exp1 查找前面不是exp2的exp1 (exp1前边不是exp2就匹配)

"中国人".replace(/(?<=中国)人/, "rr") // 匹配中国人中的人，将其替换为rr，结果为 中国rr
"法国人".replace(/(?<=中国)人/, "rr") // 结果为 法国人，因为人前面不是中国，所以无法匹配到
```

### 要理解?:则需要理解捕获分组和非捕获分组的概念：

1. ()表示捕获分组，()会把每个分组里的匹配的值保存起来，使用$n(n是一个数字，表示第n个捕获组的内容)
2. (?:)表示非捕获分组，和捕获分组唯一的区别在于，非捕获分组匹配的值不会保存起来

```js
// 数字格式化 1,123,000
"1234567890".replace(/\B(?=(?:\d{3})+(?!\d))/g,",") // 结果：1,234,567,890，匹配的是后面是3*n个数字的非单词边界(\B)
```

## 相关链接

- [正则表达式中?=和?:和?!的理解](https://blog.csdn.net/csm0912/article/details/81206848)
- [首页](https://zhishan33.github.io/shanBlog/)

> {{page.date | date: '%Y, %b %d'}}
